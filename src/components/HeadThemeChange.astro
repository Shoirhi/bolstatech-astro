<script is:inline>
  function setMode() {
    if (localStorage.getItem("theme") === null) {
      document.documentElement.setAttribute("data-theme", "light");
      document.documentElement.classList.add('dark');
    } else
      document.documentElement.setAttribute(
        "data-theme",
        localStorage.getItem("theme")
      );
      document.documentElement.classList.remove('dark');
  }

  setMode();

  document.addEventListener("astro:after-swap", setMode);
</script>
<script>
  import { themeChange } from "theme-change";
  themeChange();
</script>